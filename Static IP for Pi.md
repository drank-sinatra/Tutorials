# Static IP for Pi

- - - -

## Preface
Setting a static IP is recommended for Raspberry Pis that are acting as servers, and this guide is applicable to Raspberry Pi OS Buster.

- - - -

## Workflow
1. Retrieve your current IP information by running `ip r | grep default`
	1. The output should be similar to this:
```
default via 172.26.5.1 dev eth0 src 172.26.5.4 metric 202
## In this output, 172.26.5.1 is the router's IP address
```
2. Retrieve your current DNS server by running `cat /etc/resolv.conf`
	1. The output should be similar to this:
```
# Generated by resolvconf
search workgroup
nameserver 172.26.5.2	 
```
3. Enter the command `sudo cp /etc/dhcpcd.conf /etc/dhcpcd.org`
4. Enter the command `sudo nano /etc/dhcpcd.conf`
5. Navigate to the end of the file
6. Copy the following:
```
interface <NETWORK>
static ip_address=<STATICIP>/24
static routers=<ROUTERIP>
static domain_name_servers=<DNSIP>
```
6. Paste the copied text
7. Make the following changes:
	1. Replace **<NETWORK>** with the interface for which you want a static IP (**eth0** or **wlan0**)
	2. Replace **<STATICIP>** with the IP address to be assigned
		1. If you need an available IP address, ask the network administrator
	3. Replace **<ROUTERIP>** with the router IP address retrieved in step 1
	4. Replace **<DNSIP>** with the DNS server retrieved in step 2
8. Save the file by pressing **CTRL + X** then **Y** followed by **ENTER**
9. Restart with `sudo reboot`
10. Verify that your IP address and default gateway have been set correctly by running:
```
ip a | grep inet
ip r | grep default
```
